# 楽天トラベルAPI 作成・有効化手順

## 📋 手順概要

1. **楽天ウェブサービスアカウント作成/ログイン**
2. **新しいアプリケーション作成**
3. **楽天トラベルAPI有効化**
4. **アプリIDの取得と設定**

---

## 🚀 詳細手順

### Step 1: 楽天ウェブサービスにアクセス

1. **公式サイトにアクセス**
   ```
   https://webservice.rakuten.co.jp/
   ```

2. **ログイン または 新規登録**
   - 楽天会員IDでログイン
   - 初回の場合は「新規登録」

---

### Step 2: アプリケーション作成

1. **「アプリID発行」をクリック**
   
2. **「新規アプリ作成」を選択**

3. **アプリ情報を入力**
   ```
   アプリ名: ホテル検索システム
   アプリURL: http://localhost:3000 (開発用)
   アプリの説明: ホテル予約価格比較システム
   連絡先メールアドレス: あなたのメールアドレス
   ```

4. **利用規約に同意して「アプリを作成する」**

---

### Step 3: 楽天トラベルAPI有効化

1. **作成したアプリをクリック**

2. **「利用可能なAPI」セクションを確認**

3. **「楽天トラベル」の項目を探す**
   - ✅ 楽天トラベル宿泊検索API
   - ✅ 楽天トラベル宿泊施設詳細API
   - ✅ 楽天トラベル空室検索API

4. **必要なAPIにチェックを入れる**
   - 最低限：「楽天トラベル宿泊検索API」
   - 推奨：全ての楽天トラベル関連API

5. **「設定を保存」をクリック**

---

### Step 4: アプリID確認・取得

1. **アプリ詳細画面で「アプリID」を確認**
   ```
   例: 1234567890123456789
   ```

2. **このアプリIDをコピー**

---

### Step 5: システムに設定

1. **環境変数ファイル更新**
   ```bash
   # .envファイルを編集
   nano /Users/leadfive/Desktop/system/hotelbooking/frontend/.env
   ```

2. **新しいアプリIDを設定**
   ```env
   REACT_APP_RAKUTEN_API_KEY=【新しいアプリID】
   VITE_RAKUTEN_API_KEY=【新しいアプリID】
   REACT_APP_RAKUTEN_APP_ID=【新しいアプリID】
   VITE_RAKUTEN_APP_ID=【新しいアプリID】
   ```

---

## 🔧 トラブルシューティング

### ❌ よくある問題と解決策

#### 1. **「楽天トラベル」APIが見つからない**
**原因**: 一部のAPIは審査が必要
**解決策**: 
- 基本的なAPIから始める
- 楽天に問い合わせ

#### 2. **アプリが承認待ち状態**
**原因**: 商用利用の審査が必要
**解決策**:
- 開発・テスト用として申請
- アプリの用途を明確化

#### 3. **API制限エラー**
**原因**: リクエスト数制限
**解決策**:
- 無料枠の範囲内で利用
- 有料プランを検討

---

## 📊 API利用制限

### 無料プラン
- **月間リクエスト数**: 1,000回
- **1秒間リクエスト数**: 1回
- **1日リクエスト数**: 100回

### 有料プラン
- **月間リクエスト数**: 無制限
- **費用**: 用途により異なる

---

## ✅ 設定完了の確認

### テスト手順
1. **デバッグツールでテスト**
   ```bash
   open /Users/leadfive/Desktop/system/hotelbooking/frontend/rakuten-api-debug.html
   ```

2. **新しいアプリIDを入力**

3. **「APIキーテスト」実行**

4. **結果確認**
   - ✅ 成功: API設定完了
   - ❌ エラー: 設定を再確認

---

## 🎯 設定後の次のステップ

### 1. **APIテスト実行**
```bash
# APIテストページを開く
open /Users/leadfive/Desktop/system/hotelbooking/frontend/api-test.html
```

### 2. **ホテル検索テスト**
- 「浦島」で検索
- 「リッツカールトン」で検索
- 「東横イン」で検索

### 3. **システム統合**
- DateFixedSearch.tsxに楽天API統合
- 包括的ホテル検索システム有効化

---

## 📞 サポート

### 楽天ウェブサービス問い合わせ
- **サポートページ**: https://webservice.rakuten.co.jp/support/
- **FAQ**: https://webservice.rakuten.co.jp/documentation/
- **問い合わせフォーム**: サポートページ内

---

## 🔑 重要なポイント

1. **アプリIDは数字のみ** (19桁程度)
2. **楽天トラベルAPIの有効化が必須**
3. **開発用URLでも問題なし**
4. **無料枠で十分テスト可能**
5. **設定後すぐに利用可能**

この手順に従って設定すれば、「浦島」などの実際のホテル検索が可能になります！