# âš¡ ãƒªã‚¢ãƒ«ãƒ›ãƒ†ãƒ«ã‚·ã‚¹ãƒ†ãƒ å³æ™‚å®Ÿè£…è¨ˆç”»

## ðŸš¨ ç·Šæ€¥å®Ÿè£…é–‹å§‹

### ç¾åœ¨æ™‚åˆ»: T+6h (22:30)
### å®ŒæˆæœŸé™: T+16h (08:30) 
### æ®‹ã‚Šæ™‚é–“: 10æ™‚é–“

## ðŸ‘¥ Workeråˆ¥ã‚¿ã‚¹ã‚¯å‰²å½“

### Worker1: æ¥½å¤©APIå®Œå…¨çµ±åˆï¼ˆç©ºå®¤ãƒ»è©³ç´°ï¼‰
```javascript
// å³åº§å®Ÿè£…é …ç›®
1. VacantHotelSearch APIçµ±åˆ
   - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç©ºå®¤ç¢ºèª
   - æ–™é‡‘ãƒ—ãƒ©ãƒ³å–å¾—
   - éƒ¨å±‹ã‚¿ã‚¤ãƒ—æƒ…å ±

2. HotelDetailSearch APIçµ±åˆ
   - æ–½è¨­è©³ç´°æƒ…å ±
   - å†™çœŸãƒ»ã‚¢ãƒ¡ãƒ‹ãƒ†ã‚£
   - ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ»è©•ä¾¡

3. APIæœ€é©åŒ–
   - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å¼·åŒ–
   - ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥ï¼ˆ5-15åˆ†ï¼‰
   - ãƒ¬ãƒ¼ãƒˆåˆ¶é™å¯¾å¿œ
```

### Worker2: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ UIï¼ˆæ¤œç´¢ãƒ»è©³ç´°è¡¨ç¤ºï¼‰
```javascript
// å³åº§å®Ÿè£…é …ç›®
1. æ¤œç´¢ç”»é¢å¼·åŒ–
   - æ—¥ä»˜ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ï¼ˆç©ºå®¤è¡¨ç¤ºï¼‰
   - ã‚¨ãƒªã‚¢æ¤œç´¢ï¼ˆåœ°å›³é€£å‹•ï¼‰
   - ä¾¡æ ¼å¸¯ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼

2. ãƒ›ãƒ†ãƒ«è©³ç´°ç”»é¢
   - å†™çœŸã‚®ãƒ£ãƒ©ãƒªãƒ¼
   - æ–™é‡‘ãƒ—ãƒ©ãƒ³æ¯”è¼ƒ
   - æ¥½å¤©äºˆç´„ãƒœã‚¿ãƒ³

3. ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–æœ€é©åŒ–
   - ãƒ¢ãƒã‚¤ãƒ«ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ
   - ã‚¿ãƒƒãƒæ“ä½œå¯¾å¿œ
   - ç”»åƒé…å»¶èª­ã¿è¾¼ã¿
```

### Worker3: ä¾¡æ ¼è¿½è·¡å¼·åŒ–ï¼ˆ15åˆ†ç›£è¦–ãƒ»é€šçŸ¥ï¼‰
```javascript
// å³åº§å®Ÿè£…é …ç›®
1. 15åˆ†é–“éš”ç›£è¦–ã‚·ã‚¹ãƒ†ãƒ 
   - cronè¨­å®šï¼ˆ*/15 * * * *ï¼‰
   - ä¾¡æ ¼å¤‰å‹•æ¤œçŸ¥
   - ç©ºå®¤çŠ¶æ³è¿½è·¡

2. å³æ™‚é€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ 
   - ä¾¡æ ¼ä¸‹è½ã‚¢ãƒ©ãƒ¼ãƒˆ
   - æ–°è¦ç©ºå®¤é€šçŸ¥
   - æ®‹å®¤ã‚ãšã‹è­¦å‘Š

3. ãƒ‡ãƒ¼ã‚¿åˆ†æžæ©Ÿèƒ½
   - ä¾¡æ ¼å±¥æ­´ã‚°ãƒ©ãƒ•
   - å¤‰å‹•ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æž
   - æœ€é©äºˆç´„ã‚¿ã‚¤ãƒŸãƒ³ã‚°ææ¡ˆ
```

## ðŸ“Š å®Ÿè£…ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«

### T+6hï½žT+8hï¼ˆ22:30-00:30ï¼‰
- Worker1: APIåŸºæœ¬çµ±åˆå®Œäº†
- Worker2: æ¤œç´¢UIå®Ÿè£…
- Worker3: ç›£è¦–åŸºç›¤æ§‹ç¯‰

### T+8hï½žT+10hï¼ˆ00:30-02:30ï¼‰
- Worker1: è©³ç´°APIçµ±åˆ
- Worker2: è©³ç´°ç”»é¢å®Ÿè£…
- Worker3: é€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ å®Ÿè£…

### T+10hï½žT+12hï¼ˆ02:30-04:30ï¼‰
- ç¬¬2çµ±åˆãƒ†ã‚¹ãƒˆå®Ÿæ–½
- ãƒªã‚¢ãƒ«ãƒ‡ãƒ¼ã‚¿å‹•ä½œç¢ºèª
- ãƒã‚°ä¿®æ­£ãƒ»èª¿æ•´

### T+12hï½žT+14hï¼ˆ04:30-06:30ï¼‰
- Worker1: ã‚­ãƒ£ãƒƒã‚·ãƒ¥æœ€é©åŒ–
- Worker2: UI/UXæ”¹å–„
- Worker3: é€šçŸ¥ãƒ†ã‚¹ãƒˆ

### T+14hï½žT+16hï¼ˆ06:30-08:30ï¼‰
- ç¬¬3çµ±åˆãƒ†ã‚¹ãƒˆ
- æœ¬ç•ªç’°å¢ƒãƒ‡ãƒ—ãƒ­ã‚¤
- æœ€çµ‚å‹•ä½œç¢ºèª

## ðŸ”§ æŠ€è¡“å®Ÿè£…è©³ç´°

### Worker1: APIå®Ÿè£…ã‚³ãƒ¼ãƒ‰
```javascript
// backend/api/rakuten/vacant-hotel-search.js
const searchVacantHotels = async (params) => {
  const {
    checkinDate,
    checkoutDate,
    latitude,
    longitude,
    adultNum = 2,
    searchRadius = 3
  } = params;

  const apiParams = {
    applicationId: process.env.RAKUTEN_APP_ID,
    affiliateId: process.env.RAKUTEN_AFFILIATE_ID,
    checkinDate,
    checkoutDate,
    latitude,
    longitude,
    searchRadius,
    datumType: 1,
    adultNum,
    responseType: 'large',
    hits: 30
  };

  return await rakutenAPI.call('/Travel/VacantHotelSearch/20170426', apiParams);
};
```

### Worker2: UIå®Ÿè£…ã‚³ãƒ¼ãƒ‰
```jsx
// frontend/components/RealTimeHotelSearch.jsx
const RealTimeHotelSearch = () => {
  const [searchParams, setSearchParams] = useState({
    checkinDate: '',
    checkoutDate: '',
    location: '',
    adultNum: 2
  });

  const [hotels, setHotels] = useState([]);
  const [loading, setLoading] = useState(false);

  const searchHotels = async () => {
    setLoading(true);
    const results = await api.searchVacantHotels(searchParams);
    setHotels(results);
    setLoading(false);
  };

  return (
    <div className="hotel-search-container">
      <SearchForm params={searchParams} onChange={setSearchParams} />
      <HotelResults hotels={hotels} loading={loading} />
    </div>
  );
};
```

### Worker3: ç›£è¦–å®Ÿè£…ã‚³ãƒ¼ãƒ‰
```javascript
// backend/jobs/price-monitor.js
const monitorPrices = async () => {
  const watchlist = await db.getActiveWatchlist();
  
  for (const item of watchlist) {
    const currentPrice = await checkHotelPrice(item.hotel_no);
    
    if (currentPrice < item.target_price) {
      await sendPriceDropAlert(item.user_id, {
        hotel: item.hotel_name,
        oldPrice: item.last_price,
        newPrice: currentPrice,
        dropAmount: item.last_price - currentPrice
      });
    }
    
    await db.updatePriceHistory(item.hotel_no, currentPrice);
  }
};

// 15åˆ†ã”ã¨ã«å®Ÿè¡Œ
cron.schedule('*/15 * * * *', monitorPrices);
```

## ðŸŽ¯ æˆåŠŸåŸºæº–

### å¿…é ˆé”æˆé …ç›®
- [ ] å®Ÿéš›ã®ãƒ›ãƒ†ãƒ«æ¤œç´¢å¯èƒ½
- [ ] ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç©ºå®¤è¡¨ç¤º
- [ ] 15åˆ†é–“éš”ä¾¡æ ¼ç›£è¦–
- [ ] ä¾¡æ ¼å¤‰å‹•é€šçŸ¥é€ä¿¡
- [ ] æ¥½å¤©äºˆç´„ãƒšãƒ¼ã‚¸èª˜å°Ž

### å“è³ªåŸºæº–
- [ ] æ¤œç´¢å¿œç­” <2ç§’
- [ ] è©³ç´°è¡¨ç¤º <1ç§’
- [ ] ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œå®Œäº†
- [ ] ã‚¨ãƒ©ãƒ¼çŽ‡ <1%

## ðŸš€ å³æ™‚ã‚¢ã‚¯ã‚·ãƒ§ãƒ³

1. **Worker1**: æ¥½å¤©APIæŽ¥ç¶šãƒ†ã‚¹ãƒˆé–‹å§‹
2. **Worker2**: æ¤œç´¢UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½œæˆ
3. **Worker3**: ç›£è¦–ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆãƒ»cronè¨­å®š

---

**10æ™‚é–“ã§å®Ÿç”¨çš„ãªãƒ›ãƒ†ãƒ«æ¤œç´¢ã‚·ã‚¹ãƒ†ãƒ ã‚’å®Œæˆã•ã›ã‚‹ï¼**